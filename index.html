<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" type="image/png" href="./ecore_logo.png" />
        <meta name="robots" content="noindex, nofollow" />
        <meta name="copyright" content="EnginueCore">
        <title>EnginueCore – Instant Full Linux Terminal For Free Forever.</title>
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap");
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background-color: #ffffff;
                overflow-x: hidden;
                font-family: "Ubuntu", Tahoma, Geneva, Verdana, sans-serif;
                color: #222;
            }

            .container {
                position: relative;
                width: 100%;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                align-items: center;
                padding: 20px;
                gap: 3px;
            }

            .header {
                width: 100%;
                max-width: 1200px;
                text-align: center;
                z-index: 10;
                color: #222;
                margin-top: 0px;
            }

            .header h1 {
                font-size: clamp(2rem, 5vw, 3.5rem);
                font-weight: 800;
                margin-bottom: 1rem;
                letter-spacing: 0.1rem;
                color: #fc5e08;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
                line-height: 1.2;
            }

            .header h1 span {
                font-size: inherit;
                font-weight: 400;
                margin-left: 0.5rem;
                color: #444;
            }

            .header h2 {
                font-size: clamp(1.3rem, 3vw, 1.8rem);
                margin-bottom: 1.5rem;
                color: #333;
                font-weight: 500;
            }

            .header p {
                font-size: clamp(1rem, 2.5vw, 1.2rem);
                font-weight: 300;
                max-width: 900px;
                line-height: 1.6;
                text-align: center;
                margin: 0 auto 2rem;
                padding: 0 15px;
            }

            #logo-tools {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 40px;
                flex-wrap: wrap;
                gap: 20px;
                padding: 0 15px;
            }

            #logo-tools img {
                width: clamp(120px, 25vw, 180px);
                height: auto;
            }

            .button-actions .button {
                line-height: 1;
                text-decoration: none;
                display: inline-flex;
                border: none;
                cursor: pointer;
                align-items: center;
                gap: 0.75rem;
                background-color: #0d641a;
                color: #fff;
                border-radius: 10rem;
                font-weight: 600;
                padding: clamp(0.6rem, 2vw, 0.75rem) clamp(1.2rem, 3vw, 1.5rem);
                padding-left: 20px;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                transition: background-color 0.3s;
                font-family: "Ubuntu", Tahoma, Geneva, Verdana, sans-serif;
                font-size: clamp(16px, 2vw, 20px);
            }

            .button-actions .button__icon-wrapper {
                flex-shrink: 0;
                width: clamp(20px, 4vw, 25px);
                height: clamp(20px, 4vw, 25px);
                position: relative;
                color: var(--clr);
                background-color: #fff;
                border-radius: 50%;
                display: grid;
                place-items: center;
                overflow: hidden;
            }

            .button-actions .button:hover {
                background-color: #000;
            }

            .button-actions .button:hover .button__icon-wrapper {
                color: #000;
            }

            .button-actions .button__icon-svg--copy {
                position: absolute;
                transform: translate(-150%, 150%);
            }

            .button-actions .button:hover .button__icon-svg:first-child {
                transition: transform 0.3s ease-in-out;
                transform: translate(150%, -150%);
            }

            .button-actions .button:hover .button__icon-svg--copy {
                transition: transform 0.3s ease-in-out 0.1s;
                transform: translate(0);
            }

            .typing-text {
                display: inline-block;
                position: relative;
            }

            .typing-text::before {
                content: attr(data-text);
                position: absolute;
                top: 0;
                left: 0;
                width: 0;
                height: 100%;
                overflow: hidden;
                white-space: nowrap;
                border-right: 2px solid currentColor;
                animation:
                    typing 2.5s steps(40) forwards,
                    blink-cursor 1s infinite 2.5s;
                animation-delay: 0.5s;
            }

            .typing-text::after {
                content: attr(data-text);
                opacity: 0;
            }

            @keyframes typing {
                from {
                    width: 0;
                }
                to {
                    width: 100%;
                }
            }

            @keyframes blink-cursor {
                from,
                to {
                    border-color: transparent;
                }
                50% {
                    border-color: currentColor;
                }
            }

            #terminal-wrapper {
                font-family:
                    -apple-system, BlinkMacSystemFont, "SF Mono", Monaco,
                    "Roboto Mono", Consolas, monospace;
                width: 100%;
                max-width: min(800px, 95vw);
                margin: 20px auto;
                flex-grow: 1;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .mac-window {
                background: #1e1e1e;
                border-radius: clamp(8px, 2vw, 12px);
                box-shadow:
                    0 10px 30px rgba(0, 0, 0, 0.2),
                    0 0 0 1px rgba(255, 255, 255, 0.1);
                overflow: hidden;
                width: 100%;
                max-width: 100%;
            }

            .mac-titlebar {
                background: #3a3a3a;
                padding: clamp(8px, 2vw, 12px) clamp(12px, 2vw, 16px);
                display: flex;
                align-items: center;
                border-bottom: 1px solid #2a2a2a;
                flex-wrap: wrap;
                gap: 8px;
            }

            .mac-buttons {
                display: flex;
                gap: 6px;
                margin-right: 8px;
            }

            .mac-button {
                width: clamp(8px, 2vw, 12px);
                height: clamp(8px, 2vw, 12px);
                border-radius: 50%;
                position: relative;
            }

            .mac-button.close {
                background: #ff5f57;
            }

            .mac-button.minimize {
                background: #ffbd2e;
            }

            .mac-button.maximize {
                background: #28c940;
            }

            .mac-button::after {
                content: "";
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                opacity: 0;
                transition: opacity 0.2s;
            }

            .mac-button.close::after {
                content: "×";
                font-size: clamp(6px, 1.5vw, 10px);
                color: #000;
                font-weight: bold;
            }

            .mac-button:hover::after {
                opacity: 1;
            }

            .mac-title {
                color: #999;
                font-size: clamp(10px, 2vw, 13px);
                font-weight: 500;
                flex: 1;
                text-align: center;
                min-width: 120px;
            }

            .mac-terminal {
                background: #000;
                color: #f0f0f0;
                padding: clamp(15px, 3vw, 20px);
                min-height: min(50vh, 300px);
                overflow: auto;
                /* Hide scrollbar for Webkit browsers (Chrome, Safari, Edge) */
                scrollbar-width: none; /* Firefox */
                -ms-overflow-style: none; /* IE and Edge */
                /* Disable mouse cursor */
                   cursor: none;
            }

            .mac-terminal::-webkit-scrollbar {
                display: none; /* Chrome, Safari, Opera */
            }

            /* Ensure all child elements also have no cursor */
            .mac-terminal * {
                cursor: none !important;
            }

          /* Remove all width constraints */

            #terminal-wrapper {
    font-family: -apple-system, BlinkMacSystemFont, "SF Mono", Monaco, "Roboto Mono", Consolas, monospace;
    width: 100%;
    max-width: 100%;
    margin: 20px 0;
}

.mac-window {
    background: #1e1e1e;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
    overflow: hidden;
    width: 100%;
    max-width: 100%;
}

.mac-terminal {
    background: #000;
    color: #f0f0f0;
    padding: 0; /* Remove padding to let canvas fill space */
    min-height: min(60vh, 400px);
    max-height: 70vh;
    overflow: hidden; /* Change to hidden since canvas will handle it */
    scrollbar-width: none;
    -ms-overflow-style: none;
    cursor: none;
}

.mac-terminal::-webkit-scrollbar {
    display: none;
}

.mac-terminal * {
    cursor: none !important;
}

.terminal-content {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
}

/* Fix the screen container */
#screen {
    display: flex;
    flex-direction: column;
    background: #000;
    width: 100%;
    height: 100%;
    min-height: 400px;
}

/* Fix canvas styling */
#vga-canvas {
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    display: block;
    background: #000;
    image-rendering: -moz-crisp-edges;
    image-rendering: -webkit-crisp-edges;
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    flex: 1;
}

/* Fix console output */
#console {
    height: auto;
    min-height: 30px;
    max-height: 100px;
    overflow: auto;
    background: #000;
    padding: 10px;
    color: #0f0;
    font: 14px monospace;
    border-top: 1px solid #333;
    white-space: pre-wrap;
    word-break: break-word;
}

/* Center the start button properly */
#screen > div {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #000;
}

#start {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    background: linear-gradient(135deg, #28c940 0%, #1ea832 100%);
    color: #000;
    border: none;
    border-radius: 50px;
    padding: 15px 30px;
    font: inherit;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(40, 201, 64, 0.3);
    z-index: 100;
}

#start:hover {
    background: linear-gradient(135deg, #32e04a 0%, #24c036 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(40, 201, 64, 0.4);
}

#start span::before {
    content: ">_";
    font-size: 1.1em;
    margin-right: 6px;
    font-weight: bold;
}

/* Mobile responsive fixes */
@media (max-width: 768px) {
    .mac-terminal {
        min-height: 50vh;
        max-height: 60vh;
    }
    
    #screen {
        min-height: 300px;
    }
    
    #start {
        padding: 12px 24px;
        font-size: 14px;
    }
}

            .cursor {
                display: inline-block;
                background: #28c940;
                width: 6px;
                height: 16px;
                margin-left: 2px;
                animation: blink 1s infinite;
                vertical-align: middle;
            }

            @keyframes blink {
                0%,
                50% {
                    opacity: 1;
                }
                51%,
                100% {
                    opacity: 0;
                }
            }

            .matrix-container {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(15px, 1fr));
                grid-auto-rows: minmax(15px, 1fr);
                opacity: 0.08;
                z-index: -1;
                pointer-events: none;
                /* Use mask for crisp fade effect */
                mask-image: linear-gradient(
                    to bottom,
                    rgba(0, 0, 0, 1) 0%,
                    rgba(0, 0, 0, 0.8) 30%,
                    rgba(0, 0, 0, 0.4) 60%,
                    rgba(0, 0, 0, 0) 80%
                );
                -webkit-mask-image: linear-gradient(
                    to bottom,
                    rgba(0, 0, 0, 1) 0%,
                    rgba(0, 0, 0, 0.8) 30%,
                    rgba(0, 0, 0, 0.4) 60%,
                    rgba(0, 0, 0, 0) 80%
                );
            }

            .pixel {
                width: 12px;
                height: 12px;
                margin: 1px;
                border-radius: 1px;
                opacity: 0;
                animation: flicker 6s infinite;
            }

            @keyframes flicker {
                0%,
                100% {
                    opacity: 0;
                }
                10%,
                90% {
                    opacity: 1;
                }
            }

            .footer {
                text-align: center;
                z-index: 10;
                color: #222;
                font-size: clamp(0.8rem, 2vw, 0.9rem);
                opacity: 0.8;
                margin-top: auto;
                padding: 20px 0;
                width: 100%;
                line-height: 1.5rem;
            }

            /* Mobile-specific adjustments */
            @media (max-width: 768px) {
                .container {
                    padding: 15px;
                    gap: 20px;
                }

                .header {
                    margin-top: 20px;
                }

                #logo-tools {
                    justify-content: center;
                    gap: 15px;
                }

                .header h1 {
                    margin-bottom: 0.5rem;
                }

                .header h2 {
                    margin-bottom: 1rem;
                }

                .mac-terminal {
                    padding: 12px;
                    min-height: 40vh;
                }

                .terminal-content {
                    font-size: 12px;
                }

                .output {
                    margin-left: 5px;
                }
            }

            @media (max-width: 480px) {
                .container {
                    padding: 10px;
                }

                .header {
                    margin-top: 10px;
                }

                #logo-tools {
                    flex-direction: column;
                    gap: 15px;
                }

                .button-actions .button {
                    width: 100%;
                    justify-content: center;
                }

                .mac-titlebar {
                    justify-content: center;
                }

                .mac-buttons {
                    margin-right: 0;
                }

                .mac-title {
                    min-width: auto;
                    flex: none;
                }

                .terminal-line {
                    margin-bottom: 2px;
                }
            }

            /* Touch device optimizations */
            @media (hover: none) {
                .mac-button:hover::after {
                    opacity: 0;
                }

                .mac-button:hover {
                    transform: none;
                    filter: none;
                }

                .mac-window:hover {
                    transform: none;
                    box-shadow:
                        0 10px 30px rgba(0, 0, 0, 0.2),
                        0 0 0 1px rgba(255, 255, 255, 0.1);
                }
            }
            #arrow-down-bouncing {
                animation: subtleBounce 1.5s ease-in-out infinite;
            }

            @keyframes subtleBounce {
                0%,
                100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-8px);
                }
            }
            .horizontal-nav {
                display: flex;
                list-style: none;
                padding: 0;
                margin: 0;
                gap: 0;
                flex-wrap: wrap;
                justify-content: center;
                align-items: center;
            }

            .horizontal-nav li {
                position: relative;
            }

            .horizontal-nav li:not(:last-child)::after {
                content: "|";
                color: #666;
                margin: 0 15px;
                font-weight: 300;
            }

            .horizontal-nav a {
                text-decoration: none;
                color: #333;
                font-weight: 500;
                font-size: 14px;
                transition: color 0.3s ease;
                white-space: nowrap;
            }

            .horizontal-nav a:hover {
                color: #fc5e08;
            }

            /* Mobile responsive */
            @media (max-width: 768px) {
                .horizontal-nav {
                    gap: 10px;
                    justify-content: center;
                }

                .horizontal-nav li:not(:last-child)::after {
                    margin: 0 10px;
                }

                .horizontal-nav a {
                    font-size: 13px;
                }
            }

            @media (max-width: 480px) {
                .horizontal-nav {
                    flex-direction: column;
                    gap: 8px;
                }

                .horizontal-nav li:not(:last-child)::after {
                    display: none;
                }
            }
            #screen{display:flex;flex-direction:column;background:#000}
             canvas{flex:1;background:#000}
             #console{height:30px;overflow:auto;background:#000;padding:10px;color:#0f0;font:16px monospace}
             button{background:#0f0;color:#000;border:none;padding:12px 24px;margin:10px;font-weight:bold;cursor:pointer}
            #vga-canvas {
    /* Make canvas responsive */
    width: 100vw;
    height: 100vh;
    
    /* Maintain aspect ratio and center */
    object-fit: contain;
    
    /* Ensure it stays within viewport */
    max-width: 100%;
    max-height: 100%;
    
    /* Pixel perfect rendering */
    image-rendering: -moz-crisp-edges;
    image-rendering: -webkit-crisp-edges;
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    
    /* Remove any default margins/padding */
    display: block;
    margin: 0;
    padding: 0;
    
    /* Optional: Add background color */
    background: #000;
}

/* Ensure parent container is also full screen */
.canvas-container {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    position: relative;
}

/* For mobile devices - prevent zoom/scroll issues */
@media (max-width: 768px) {
    #vga-canvas {
        /* Adjust for mobile browsers */
        width: 100%;
        height: auto;
        max-height: 100vh;
    }
}

/* For very small screens */
@media (max-width: 480px) {
    #vga-canvas {
        /* Ensure touch compatibility */
        touch-action: none;
    }
}

/* For landscape orientation */
@media (orientation: landscape) and (max-height: 500px) {
    #vga-canvas {
        height: 100vh;
        width: auto;
        max-width: 100vw;
    }
}
             #start {
                 /* Center content */
                 display: flex;
                 align-items: center;
                 justify-content: center;
                 gap: 8px;

                 /* Button styling */
                 background: linear-gradient(135deg, #28c940 0%, #1ea832 100%);
                 color: #000;
                 border: none;
                 border-radius: 50px; /* Fully rounded */
                 padding: 12px 24px;
                 font: inherit; /* Inherit font from parent */
                 font-weight: 600;
                 cursor: pointer;
                 transition: all 0.3s ease;
                 box-shadow: 0 4px 15px rgba(40, 201, 64, 0.3);

                 /* Ensure proper vertical centering */
                 margin: 0 auto;
             }

             /* Hover effects */
             #start:hover {
                 background: linear-gradient(135deg, #32e04a 0%, #24c036 100%);
                 transform: translateY(-2px);
                 box-shadow: 0 6px 20px rgba(40, 201, 64, 0.4);
             }

             /* Active/Click effect */
             #start:active {
                 transform: translateY(0);
                 box-shadow: 0 2px 10px rgba(40, 201, 64, 0.3);
             }

             /* Icon styling - using the existing span */
             #start span {
                 display: inline-flex;
                 align-items: center;
                 justify-content: center;
                 font-size: 1.1em;
             }

             /* Optional: Add a power icon using pseudo-element */
             #start span::before {
                 content: ">_"; /* Terminal symbol */
                    font-size: 1.1em;
                    margin-right: 6px;
                    font-weight: bold;
             }

             /* Mobile responsive */
             @media (max-width: 768px) {
                 #start {
                     padding: 10px 20px;
                     font-size: 14px;
                 }
             }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <div id="logo-tools">
                    <a href="#"
                        ><img
                            width="180"
                            src="ecore_logo.svg"
                            alt="JSLinux Logo"
                    /></a>
                    <div class="button-actions">
                        <button href="#" class="button" style="--clr: #7808d0">
                            <span class="button__icon-wrapper">
                                <svg
                                    viewBox="0 0 14 15"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="button__icon-svg"
                                    width="10"
                                >
                                    <path
                                        d="M13.376 11.552l-.264-10.44-10.44-.24.024 2.28 6.96-.048L.2 12.56l1.488 1.488 9.432-9.432-.048 6.912 2.304.024z"
                                        fill="#0d641a"
                                    ></path>
                                </svg>

                                <svg
                                    viewBox="0 0 14 15"
                                    fill="none"
                                    width="10"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="button__icon-svg button__icon-svg--copy"
                                >
                                    <path
                                        d="M13.376 11.552l-.264-10.44-10.44-.24.024 2.28 6.96-.048L.2 12.56l1.488 1.488 9.432-9.432-.048 6.912 2.304.024z"
                                        fill="currentColor"
                                    ></path>
                                </svg>
                            </span>
                            Upgrade to Pro
                        </button>
                    </div>
                </div>

                <h1>
                    Code, Deploy, Build.
                    <span
                        class="typing-text"
                        data-text="Anywhere, Anytime."
                    ></span>
                </h1>
                <h2>Your Real Full Linux Terminal For Free Forever</h2>
                <p>
                    Your portable terminal. Perfect for testing code, debugging
                    apps, and prototyping software. Also ideal for creating live
                    demos, learning Linux, accessing your homelab from any
                    browser, and so much more. All right at your fingertips.
                </p>
            </div>

            <div id="arrow-down-bouncing">

                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#0d641a" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg>
            </div>


            <div id="terminal-wrapper">
                <div class="mac-window">
                    <div class="mac-titlebar">
                        <div class="mac-buttons">
                            <span class="mac-button close"></span>
                            <span class="mac-button minimize"></span>
                            <span class="mac-button maximize"></span>
                        </div>
                        <div class="mac-title">EnginueCore -<span id="status">Ready</span></div>
                    </div>
                    <div class="mac-terminal">
                        <div class="terminal-content">
                            <div class="terminal-line output">
                                <div id="screen">
                                  <div style="flex:1;display:flex;align-items:center;justify-content:center;background:#000">
                                    <button id="start"><span></span>CLICK TO START LINUX SHELL</button>
                                  </div>
                                  <div id="console"></div>
                                </div>
                            </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="matrix-container" id="matrix"></div>

            <div class="footer">
                <p>
                    <ul class="horizontal-nav">
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Upgrade To Pro</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Sitemap</a></li>
                    </ul>
                </p>
                <p>
                    &copy;Copyright
                    <script>
                        document.write(new Date().getFullYear());
                    </script>
                    , <b>EnginueCore</b>, All Rights Reserved
                </p>
            </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const matrixContainer = document.getElementById("matrix");

                function createMatrix() {
                    matrixContainer.innerHTML = "";
                    const pixelSize = window.innerWidth < 768 ? 12 : 16;
                    const columnsCount = Math.floor(
                        window.innerWidth / (pixelSize + 2),
                    );
                    const rowsCount = Math.floor(
                        window.innerHeight / (pixelSize + 2),
                    );

                    const grayShades = [
                        "#1a1a1a",
                        "#404040",
                        "#666666",
                        "#8c8c8c",
                        "#b3b3b3",
                        "#d9d9d9",
                    ];

                    // Update grid template
                    matrixContainer.style.gridTemplateColumns = `repeat(auto-fill, ${pixelSize}px)`;
                    matrixContainer.style.gridAutoRows = `${pixelSize}px`;

                    // Create pixels
                    for (let i = 0; i < columnsCount * rowsCount; i++) {
                        const pixel = document.createElement("div");
                        pixel.className = "pixel";
                        pixel.style.width = `${pixelSize}px`;
                        pixel.style.height = `${pixelSize}px`;

                        const randomShade =
                            grayShades[
                                Math.floor(Math.random() * grayShades.length)
                            ];
                        pixel.style.backgroundColor = randomShade;

                        const delay = Math.random() * 6;
                        const duration = 3 + Math.random() * 4;
                        pixel.style.animationDelay = `${delay}s`;
                        pixel.style.animationDuration = `${duration}s`;

                        matrixContainer.appendChild(pixel);
                    }
                }

                // Initial creation
                createMatrix();

                // Recreate on resize with debounce
                let resizeTimeout;
                window.addEventListener("resize", function () {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(createMatrix, 250);
                });
            });
        </script>

        <script src="./build/libv86.js"></script>
        <script>
        let emulator = null;
        const isPro = localStorage.getItem('alpine_pro') === 'true';
        document.getElementById('status').textContent = isPro
          ? "Pro user – 4 GB RAM + persistence"
          : "Free tier – 512 MB RAM";

        document.getElementById('start').onclick = function() {
          this.style.display = 'none';  // Hide button

      const screenDiv = document.getElementById('screen');
  
  // Remove any existing canvas
  const existingCanvas = document.getElementById('vga-canvas');
  if (existingCanvas) {
    existingCanvas.remove();
  }
  
  // Create new canvas that fills the terminal
  const canvas = document.createElement('canvas');
  canvas.id = 'vga-canvas';
  canvas.style.width = '100%';
  canvas.style.height = '100%';
  canvas.style.display = 'block';
  
  // Insert at the beginning of screen div
  screenDiv.insertBefore(canvas, screenDiv.firstChild);

          emulator = new V86({
            screen_container: screenDiv,
            wasm_url: "./build/v86.wasm",
            memory_size: isPro ? 4*1024*1024*1024 : 512*1024*1024,
            bios: { url: "./build/seabios.bin" },
            vga_bios: { url: "./build/vgabios.bin" },
            cdrom: { url: "./build/alpine-virt-3.22.2-x86.iso" },
            autostart: true,
            disable_speaker: true,
            disable_mouse: true
          });

          // Serial output
          emulator.add_listener("serial0-output-char", c => {
            document.getElementById('console').append(c);
            document.getElementById('console').scrollTop = document.getElementById('console').scrollHeight;
          });
        };

        // Allow typing after start
        document.addEventListener('keydown', function(e) {
          if (emulator) {
            if (e.key.length === 1) emulator.serial0_send(e.key.charCodeAt(0));
            else if (e.key === 'Enter') emulator.serial0_send(13);
            else if (e.key === 'Backspace') emulator.serial0_send(127);
            e.preventDefault();
          }
        });

        async function upgrade(plan) {
          const r = await fetch(`https://alpineworker.meoasis2014.workers.dev/checkout?plan=${plan}`, {
            method: 'POST'
          });
          const d = await r.json();
          if (d.url) location.href = d.url;
          else alert("Error: " + JSON.stringify(d));
        }

        // Unlock Pro after payment (for later)
        if (localStorage.getItem('alpine_pro') === 'true') {
          const userId = localStorage.getItem('user_id');
          if (userId) {
            alert('Your Pro terminal: https://' + userId + '.enginuecore.com');
          }
        }
        </script>

        <script>
document.addEventListener("contextmenu", e => e.preventDefault(), false);
</script>

<script>
document.addEventListener("keydown", e => {
  // USE THIS TO DISABLE CONTROL AND ALL FUNCTION KEYS
  // if (e.ctrlKey || (e.keyCode>=112 && e.keyCode<=123)) {
  // THIS WILL ONLY DISABLE CONTROL AND F12
  if (e.ctrlKey || e.keyCode==123) {
    e.stopPropagation();
    e.preventDefault();
  }
});
</script>


        <script>
        // Very aggressive protection (will anger users and be bypassed)
        class HTMLProtector {
            constructor() {
                this.init();
            }

            init() {
                this.blockShortcuts();
                this.detectDevTools();
                this.observeDOM();
                this.blockRightClick();
                this.preventSourceView();
            }

            blockShortcuts() {
                document.addEventListener('keydown', (e) => {
                    const blocked = [
                        (e.ctrlKey || e.metaKey) && e.key === 's', // Save
                        (e.ctrlKey || e.metaKey) && e.key === 'p', // Print
                        e.key === 'F12', // Dev tools
                        (e.ctrlKey && e.shiftKey && e.key === 'I'), // Dev tools
                        (e.ctrlKey && e.shiftKey && e.key === 'J'), // Dev tools
                        (e.ctrlKey && e.key === 'u'), // View source
                    ];

                    if (blocked.some(cmd => cmd)) {
                        e.preventDefault();
                        this.showWarning('This action is not allowed.');
                        return false;
                    }
                });
            }

            blockRightClick() {
                document.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    this.showWarning('Right-click is disabled.');
                    return false;
                });

                document.addEventListener('mousedown', (e) => {
                    if (e.button === 2) {
                        e.preventDefault();
                        return false;
                    }
                });
            }

            detectDevTools() {
                const element = new Image();
                Object.defineProperty(element, 'id', {
                    get: () => {
                        this.showWarning('Developer tools detected!');
                        document.body.innerHTML = 'Access denied.';
                    }
                });

                console.log('%c', element);
            }

            observeDOM() {
                // Break if DOM is inspected
                const observer = new MutationObserver(() => {
                    if (document.body.getAttribute('onreset') || document.documentElement.innerHTML.length < 100) {
                        document.body.innerHTML = 'Tampering detected.';
                    }
                });

                observer.observe(document.documentElement, {
                    attributes: true,
                    childList: true,
                    subtree: true
                });
            }

            preventSourceView() {
                // Override console methods
                ['log', 'warn', 'error', 'info', 'debug'].forEach(method => {
                    const original = console[method];
                    console[method] = function() {
                        // Can block or modify console output
                        original.apply(console, arguments);
                    };
                });
            }

            showWarning(message) {
                const warning = document.createElement('div');
                warning.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #ff4444;
                    color: white;
                    padding: 10px 15px;
                    border-radius: 5px;
                    z-index: 10000;
                    font-family: Arial, sans-serif;
                `;
                warning.textContent = message;
                document.body.appendChild(warning);

                setTimeout(() => warning.remove(), 3000);
            }
        }

        // Initialize protector
        new HTMLProtector();
        }</script>
    </body>
</html>
