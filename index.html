<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="robots" content="noindex, nofollow" />
  <title>AlpineCore – Instant Alpine Linux Terminal</title>
  <style>
    body{margin:0;background:#000;color:#0f0;font:18px 'Courier New',monospace;overflow:hidden}
    #screen{height:100vh;padding:20px;box-sizing:border-box}
    .top{background:#000;color:#0f0;padding:10px;text-align:center;font-weight:bold;position:fixed;top:0;left:0;right:0;z-index:99}
    button{background:#0f0;color:#000;border:none;padding:12px 24px;margin:10px;font-weight:bold;cursor:pointer}
  </style>
</head>
<body>
<div class="top">
  AlpineCore – <span id="status">Loading...</span>
  <button onclick="upgrade()">Upgrade to Pro – $19/mo (4 GB RAM + persistence)</button>
</div>
<div id="screen"></div>

<script src="https://cdn.jsdelivr.net/npm/v86@0.5.276/build/libv86.js"></script>
<script>
const session = crypto.randomUUID();
const isPro = localStorage.getItem('alpine_pro') === 'true';

document.getElementById('status').textContent = isPro ? "Pro user – 4 GB RAM" : "Free tier – 512 MB RAM";

const emulator = new V86Starter({
  screen_container: "screen",
  wasm_url: "https://copy.sh/v86/v86.wasm",
  memory_size: isPro ? 4*1024*1024*1024 : 512*1024*1024,
  bios: { url: "https://copy.sh/v86/bios/seabios.bin" },
  vga_bios: { url: "https://copy.sh/v86/bios/vgabios.bin" },
  cdrom: { url: "https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-standard-3.20.0-x86_64.iso" },
  autostart: true
});

emulator.add_listener("serial0-output-char", c => screen.insertAdjacentText('beforeend', c));

async function upgrade() {
  const r = await fetch('https://worker.enginuecore.com/checkout', {method:'POST'});
  const d = await r.json();
  location.href = d.url;
}
</script>
</body>
</html>
